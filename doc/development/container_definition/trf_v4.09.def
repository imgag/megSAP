Bootstrap: docker
From: ubuntu:latest

%labels
    Maintainer KilianIlius
    Version TRF_v4.09

%post
	LANG=C.UTF-8
	LC_ALL=C.UTF-8

	# Update package list and install build dependencies
	apt-get update --fix-missing 
	apt-get install -y \
		wget
	
	# Download Tandem Repeats Finder
	cd /opt
	mkdir -p TRF_4.09
	cd TRF_4.09
	wget https://github.com/Benson-Genomics-Lab/TRF/releases/download/v4.09.1/trf409.linux64
	chmod +x trf409.linux64
	ln -s trf409.linux64 trf
	
	# Cleanup build dependencies
	cd /
	apt-get remove -y \
		wget
	apt-get autoremove -y
	apt-get clean
	rm -rf /var/lib/apt/lists/*

%environment
	export LANG=C.UTF-8
	export LC_ALL=C.UTF-8
	export PATH=/opt/TRF_4.09:$PATH